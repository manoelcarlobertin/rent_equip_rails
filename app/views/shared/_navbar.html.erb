<!-- app/views/shared/_navbar.html.erb -->
<nav class="bg-gray-900 border-b border-gray-700">
  <div class="container mx-auto flex flex-wrap items-center justify-between p-4">
    <!-- Logo -->
    <a href="/" class="flex items-center text-white font-bold text-xl">
      <svg class="h-8 w-8 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 0L15.09 8H24L17.45 12.97L20.54 21L12 16.03L3.46 21L6.55 12.97L0 8H8.91L12 0Z" />
      </svg>
      Gerenciador Equipamentos Alugados
    </a>

    <!-- Menu toggle para mobile -->
    <button data-collapse-toggle="navbar-menu" type="button"
      class="inline-flex items-center p-2 ml-3 text-sm text-gray-400 rounded-lg md:hidden hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-600"
      aria-controls="navbar-menu" aria-expanded="false">
      <span class="sr-only">Abrir menu</span>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Menu -->
    <div class="hidden w-full md:flex md:w-auto" id="navbar-menu">
      <ul class="flex flex-col md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium">
        <li>
          <%= link_to "Home", root_path,
            class: "block py-2 pr-4 pl-3 text-white rounded md:bg-transparent md:p-0 hover:text-blue-400" %>
        </li>
        <li>
          <%= link_to "Clientes", customers_path,
            class: "block py-2 pr-4 pl-3 text-white rounded md:bg-transparent md:p-0 hover:text-blue-400" %>
        </li>
        <li>
          <%= link_to "Equipamentos", equipments_path,
            class: "block py-2 pr-4 pl-3 text-white rounded md:bg-transparent md:p-0 hover:text-blue-400" %>
        </li>
        <li>
          <%= link_to "Agenda", "#",
            class: "block py-2 pr-4 pl-3 text-white rounded md:bg-transparent md:p-0 hover:text-blue-400" %>
        </li>
        <% if user_signed_in? %>
          <li class="relative" data-controller="dropdown">
            <button data-dropdown-toggle="userDropdown" data-dropdown-target="button" data-action="click->dropdown#toggle" class="flex items-center text-white hover:text-blue-400">
              <span class="mr-2"><%= current_user.email %></span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div id="userDropdown" data-dropdown-target="menu" class="hidden absolute right-0 z-10 mt-2 w-48 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5">
              <div class="py-1">
                <%= button_to "Logout", destroy_user_session_path, method: :delete,
                    class: "block w-full text-left px-4 py-2 text-sm text-white hover:bg-gray-700" %>
              </div>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</nav>